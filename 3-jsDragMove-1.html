<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>js drag demo</title>
</head>
<body>
<style>
#box{
	width:200px;
	height:200px;
	background:red;
	position:absolute;
}
</style>
<div id="box"></div>
<script>
window.onload = function(){

	var box = document.getElementById("box");

	box.onmousedown = function(e){

		var e = e || event;
		var target = e.target || e.srcELement;
	
		var disX = e.clientX - target.offsetLeft;
		var disY = e.clientY - target.offsetTop;

		document.onmousemove = function(e){
			var e = e || event;
			target.style.left = e.clientX - disX + "px";
			target.style.top = e.clientY - disY + "px";	

			if(parseInt(target.style.left) <= 0){
				target.style.left = 0 + "px";
			};
			if((parseInt(target.style.left) + target.offsetWidth) >= document.documentElement.clientWidth){
				target.style.left = document.documentElement.clientWidth - target.offsetWidth + "px";
			};
			if(parseInt(target.style.top) <= 0){
				target.style.top = 0 + "px";
			};
			if((parseInt(target.style.top) + target.offsetHeight) >= document.documentElement.clientHeight){
				target.style.top = document.documentElement.clientHeight - target.offsetHeight + "px";
			};
		};

		document.onmouseup = function(){
			document.onmousemove = null;	
			document.onmouseup = null;	
		}

	}
}
</script>
</body>
</html>
